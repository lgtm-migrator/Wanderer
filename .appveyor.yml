image: Visual Studio 2019

before_build:
- nuget restore
- choco install opencover.portable
- choco install codecov

build:
  project: StarshipWanderer.sln
  verbosity: minimal

test_script:
- OpenCover.Console.Exe -target:"c:\program files\dotnet\dotnet.exe" -targetargs:"test" -filter:"+[*Wanderer*]* -[Test]*" -output:Wanderer_coverage.xml -register:user
- codecov -f "Wanderer_coverage.xml"

